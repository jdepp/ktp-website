<header style="background-color:rgba(0, 0, 0, 0.5);">
  <!-- Profile Settings Modal -->
  <div class="modal fade" id="profileSettingsModal" role="dialog">  
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 style="color:black;" class="modal-title">Settings</h4>
        </div>
        <div class="modal-body" style="overflow-y: auto;">
          <form (ngSubmit)="onChangePicture(changePicForm)" #changePicForm="ngForm" autocomplete="off">
            <div class="input-field">
              <label style="color:black;" for="profilePic">Picture to Upload: </label>
              <input style="text-align:left;" [(ngModel)]="changePicForm.picture" name="picture" #name="ngModel" type="file" class="form-control" id="picture" required>
            </div>
            <br />
            <button type="submit" class="btn btn-default" [disabled]="!changePicForm.valid">Upload</button>
          </form>
          <br />
          <form (ngSubmit)="onChangeDescription(changeDescForm)" #changeDescForm="ngForm" autocomplete="off">
            <div class="input-field">
              <label style="color:black;" for="desc">Change Description: </label>
              <textarea style="text-align:left;" [(ngModel)]="changeDescForm.desc" name="description" #name="ngModel" class="form-control" id="description" rows="5" cols="10" value="{{this.profile.description}}"required></textarea>
            </div>
            <br />
            <button type="submit" class="btn btn-default" [disabled]="!changeDescForm.valid">Submit</button>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Secured Profile Page Content -->
  <div class="container" *ngIf="this.auth.loggedIn(); else unsecured">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2">
        <div class="profile-content">
          <div class="row profile-header">
            <div class="col-md-2">
              <div *ngIf="this.profile.picture != ''; else noPic" class="profile-pic">
                <img src=`{{profile.picture}}` alt=`{{profile.name}}`/>
              </div>
              <ng-template #noPic style="margin: 0 auto">
                <div class="profile-no-pic">
                  <span>{{this.profile.name.split(" ")[0].charAt(0)}}{{this.profile.name.split(" ")[1].charAt(0)}}</span>
                </div>
              </ng-template>
            </div>
            <div class="col-md-5 col-md-offset-1 profile-detail">
              <div class="row" style="text-align:center;">
                <h3>{{profile.name}}</h3>
              </div>
              <div class="row">
                <div class="col-md-7">
                  Email: {{profile.email}}
                </div>
                <div class="col-md-5">
                  {{profile.rushClass}} Class
                </div>
              </div>
            </div>
            <div class="col-md-2 col-md-offset-1 profile-btns">
              <button *ngIf="this.auth.getCurrentUserId() == this.profile._id" type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#profileSettingsModal">Settings</button>
            </div>
          </div>
          <br>
          <div class="progress-bars">
            <div class="row">
              <span class="col-md-3 col-md-offset-1">Service Hours: </span>
              <div id="serviceBar">
                <div id="service" [ngStyle]="{'width': this.hoursPercent + '%'}"></div>
              </div>
              <span class="progress-value">{{profile.serviceHours}}/10</span>
            </div>
            <div class="row">
              <span class="col-md-3 col-md-offset-1">Brotherhood Points: </span>
              <div id="pointsBar">
                <div id="points" [ngStyle]="{'width': this.pointsPercent + '%'}"></div>
              </div>
              <span class="progress-value">{{profile.points}}/5</span>
            </div>
          </div>
          <div class="row profile-info">
            <div class="row">
              <div class="col-lg-12 tab">
                <div id="descBtn" class="tab-btn" type="button" (click)="openTab('description', 'descBtn')">Description</div>
                <div id="acadBtn" class="tab-btn" type="button" (click)="openTab('academics', 'acadBtn')">Academics</div>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-11 tab-content" id="description" *ngIf="this.currentTabContent == 'description'">
                <br />
                <div class="row">
                  <div class="col-lg-10 col-lg-offset-1">
                    {{this.profile.description}}
                  </div>
                </div>
              </div>
              <div class="col-lg-11 tab-content" id="academics" *ngIf="this.currentTabContent == 'academics'">
                <br />
                <div class="row">
                  <div class="col-lg-5">
                    <span>Major: {{this.profile.major}}</span>
                  </div>
                  <div class="col-lg-5 col-lg-offset-2">
                    <span>Grad Semester: {{this.profile.gradSemester}}</span>
                  </div>
                </div>
                <br />
                <div class="row">
                  <div class="col-lg-12" style="text-align: center;">
                    <div *ngFor="let category of this.courseCategories">
                      <button class="accordion" (click)="selectCourseCategory(category)">{{category}}</button>
                      <div class="panel" *ngIf="this.panelType == category" [innerHtml]="panelHtml"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Unsecured Profile Page -->
  <ng-template #unsecured>
    <div class="container">
      <div class="row">
          <div class="col-lg-8 col-lg-offset-2">
            <div class="profile-content">
              <div class="row profile-header">
                <div class="col-md-2">
                  <div *ngIf="this.profile.picture != ''; else noPic" class="profile-pic">
                    <img src=`{{profile.picture}}` alt=`{{profile.name}}`/>
                  </div>
                  <ng-template #noPic style="margin: 0 auto">
                    <div class="profile-no-pic">
                      <span>{{this.profile.name.split(" ")[0].charAt(0)}}{{this.profile.name.split(" ")[1].charAt(0)}}</span>
                    </div>
                  </ng-template>
                </div>
                <div class="col-md-5 col-md-offset-1 profile-detail">
                  <div class="row" style="text-align:center;">
                    <h3>{{profile.name}}</h3>
                  </div>
                  <div class="row">
                    <div class="col-md-7">
                      Email: {{profile.email}}
                    </div>
                    <div class="col-md-5">
                      {{profile.rushClass}} Class
                    </div>
                  </div>
                </div>
              </div>
              <div class="row profile-info">
                <div class="row">
                  <div class="col-lg-12 tab">
                    <div id="descBtn" class="tab-btn" type="button" (click)="openTab('description', 'descBtn')">Description</div>
                    <div id="acadBtn" class="tab-btn" type="button" (click)="openTab('academics', 'acadBtn')">Academics</div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-lg-12 tab-content" id="description" *ngIf="this.currentTabContent == 'description'">
                    Description Box Area
                  </div>
                  <div class="col-lg-12 tab-content" id="academics" *ngIf="this.currentTabContent == 'academics'">
                    Major and Expected Grad Year
                    Courses Taken At Pitt
                    Current Credits
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  </ng-template>
</header>
